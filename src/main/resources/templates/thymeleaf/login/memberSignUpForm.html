<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" />
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.bundle.min.js" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" rel="stylesheet" />   

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/js/bootstrap.bundle.min.js" rel="stylesheet" />

<script src="css/style.css" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>

<link rel="stylesheet"  href="css/style.css"  />
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script type="text/javascript">
function add(){
	var formdata = $('#add_form').serialize();
	//alert('edit 입장')
	$.ajax({
		url:'member_form',
		method:'post',
		cache:false,
		data:formdata,
		dataType:'json',
		success:function(res){
			if (res.emailBoolean == false) {
				alert('이메일이 존재합니다.');
				
				return;
			}
			else if(res.emailBoolean == true){
				alert('회원가입이 완료되었습니다. 로그인 폼으로 이동합니다.');
				location.href="member_main";
				
				return;
			}
				
			
		},
		error:function(xhr,status,err){
			alert('Error:'+err);
		}
	});
	return false; //이걸 하지 않으면 저장이 두번된다. 
}
</script>
</head>
<body>
<p/><p/><p/><p/><p/><p/><p/>

<div class="body-background">

   <div class="container-fluid d-flex justify-content-center align-items-center h-100">
      
      
      <div class="card p-3 text-center py-4">
          <h4>HappySign 패밀리 회원가입 인증 입니다.</h4>
          <div><p>	
              <span>로그인 하시겠습니까?</span>
              <a href="" class="text-decoration-none">Sign In</a>
          </div><p>
          <form action="member_form" method="post"  id="add_form">
          
          <div class="mt-3 px-3">
              <input class="form-control" placeholder="Member Email"  type="text" name="memberEmail" id="memberEmail" required="required" >
          </div>
          <div class="mt-3 px-3">
              <input class="form-control" placeholder="Member Password"  type="text" name="memberPw" id="memberPw"  required="required" >
          </div>
          <div class="mt-3 px-3">
              <input class="form-control" placeholder="Member Name" type="text" name="memberName" id="memberName" required="required" >
          </div>
          <div class="mt-3 px-3">
              <input class="form-control" placeholder="Address"   type="text" name="address" id="address" required="required" >
          </div>
          <div class="mt-3 px-3">
              <input class="form-control" placeholder="Birthday"  type="text" name="birthday" id="birthday"  required="required" >
          </div>

          <div class="mt-3 px-3">
              <input class="form-control" placeholder="Member Age"   type="text" name="memberAge" id="memberAge" required="required">
          </div>
           <div class="form-group">
   			 <label for="exampleFormControlSelect1">성별 :</label>
    			<select class="form-control" name="gender" id="gender">
     				 <option>남성</option>
      				 <option>여성</option>
    			</select>
 		 </div>
          <div class="mt-3 px-3">
              <input class="form-control" placeholder="Member Phone Number"   type="text" name="memberPhoneNumber" id="memberPhoneNumber" required="required">
          </div>
       </form>
          <div class="mt-3 d-grid px-3">
              <button class="btn btn-primary btn-block btn-signup text-uppercase" type="button" onclick="add()">
                  <span>인증하기</span>
                  
              </button>
          </div>
            
          
          <div class="px-3">
              <div class="mt-2 form-check d-flex flex-row">
              <input class="form-check-input" type="checkbox" value="" id="services">
              <label class="form-check-label ms-2" for="services">
                비밀번호 / 아이디 저장
              </label>
            </div>
          </div>
      </div>
       
   </div> 
</div>
</body>
</html>